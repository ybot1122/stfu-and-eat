---
interface Props {
  src: string;
  alt: string;
}

const { src, alt } = Astro.props;
---

<div class="expandable-image">
  <img 
    src={src} 
    alt={alt}
    class="thumbnail"
    role="button"
    tabindex="0"
  />
  <div class="fullscreen-overlay hidden">
    <img src={src} alt={alt} class="fullscreen-image" />
  </div>
</div>

<style>
  .expandable-image {
    position: relative;
    cursor: pointer;
  }

  .thumbnail {
    max-width: 200px;
    height: auto;
    display: block;
  }

  .fullscreen-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
  }

  .fullscreen-overlay.hidden {
    display: none;
  }

  .fullscreen-image {
    max-width: 90vw;
    max-height: 90vh;
    object-fit: contain;
  }
</style>

<script>
  document.querySelectorAll('.expandable-image').forEach((container) => {
    const thumbnail = container.querySelector('.thumbnail');
    const overlay = container.querySelector('.fullscreen-overlay');

    thumbnail?.addEventListener('click', () => {
      overlay?.classList.remove('hidden');
    });

    overlay?.addEventListener('click', () => {
      overlay.classList.add('hidden');
    });
  });
</script>